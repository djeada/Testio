{% extends 'base_page.html' %}

{% block additional_styles %}
<link rel="stylesheet" type="text/css" href="/static/styles/exam.css">
{% endblock %}

{% block body %}
<div class="exam-container">
    <!-- Enhanced Page Header -->
    <div class="page-header-enhanced">
        <div class="header-badge">
            <span class="badge badge--success">ğŸ¯ Live Monitoring</span>
        </div>
        <h1 class="page-title">Examination Mode</h1>
        <p class="page-subtitle">Manage and monitor student assessments in real-time</p>
    </div>

    <div class="exam-content">
        <div class="exam-setup">
            <div class="setup-card">
                <div class="card-header">
                    <span class="card-icon">ğŸ“‹</span>
                    <h3 class="card-title">Exam Configuration</h3>
                </div>
                <div class="form-group">
                    <label for="config-select" class="form-label">Select Test Configuration:</label>
                    <select id="config-select" class="form-select">
                        <option value="">-- Choose a configuration --</option>
                        <option value="config1.json">Config 1 - Basic Assessment</option>
                        <option value="config2.json">Config 2 - Intermediate Level</option>
                        <option value="config3.json">Config 3 - Advanced Challenge</option>
                    </select>
                </div>
                <button id="start-exam-btn" class="btn btn-primary">
                    <span class="btn-icon">ğŸš€</span>
                    Start New Exam Session
                </button>
            </div>

            <div class="session-info" id="session-info">
                <div class="card-header">
                    <span class="card-icon">ğŸ”—</span>
                    <h3 class="card-title">Exam Session</h3>
                    <span class="session-status" id="session-status">Inactive</span>
                </div>
                <div class="session-url-container">
                    <label class="form-label">Share this URL with students:</label>
                    <div class="url-display">
                        <span id="exam-url-text" class="url-text">No active session</span>
                        <button id="copy-url-btn" class="btn-copy" title="Copy URL">ğŸ“‹</button>
                    </div>
                </div>
                <div class="session-stats">
                    <div class="stat-item">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <span class="stat-value" id="active-students">0</span>
                        <span class="stat-label">Active Students</span>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">ğŸ“</div>
                        <span class="stat-value" id="submissions-count">0</span>
                        <span class="stat-label">Submissions</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ“Š</span>
                    Live Results
                </h2>
                <div class="results-controls">
                    <button id="refresh-btn" class="btn btn-secondary">
                        <span class="btn-icon">ğŸ”„</span>
                        Refresh
                    </button>
                    <button id="export-btn" class="btn btn-secondary">
                        <span class="btn-icon">ğŸ“¥</span>
                        Export Results
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table id="results-table" class="results-table">
                    <thead>
                        <tr>
                            <th>Student ID</th>
                            <th>Status</th>
                            <th>Score</th>
                            <th>Passed / Total</th>
                            <th>Submitted At</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="empty-row">
                            <td colspan="5">
                                <div class="empty-table">
                                    <span class="empty-icon">ğŸ“‹</span>
                                    <p>Start an exam session to see results</p>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script src="/static/js/exam.js"></script>
{% endblock %}
